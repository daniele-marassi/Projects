!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);
/*!
THIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT ("AGREEMENT") LOCATED HERE:
https://www.infragistics.com/legal/license/igultimate-la
https://www.infragistics.com/legal/license/igultimate-eula
GOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.
*/
let s={},r=0;class n{constructor(){}equals(t){return this===t}static equalsStatic(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;return i||s?i&&s:t.equals?t.equals(e):e.equals?e.equals(t):!(!Number.isNaN(t)||!Number.isNaN(e))||(t instanceof Date?e instanceof Date&&+t==+e:t==e&&typeof t==typeof e)}static equalsSimple(t,e){return t==e}static compareSimple(t,e){return t==e?0:t<e?-1:1}static compare(t,e){if(t===e)return 0;var i=u(V,t);if(null!==i&&i.compareToObject)return i.compareToObject(e);var s=u(V,e);return null!==s&&s.compareToObject?-s.compareToObject(t):n.compareSimple(t,e)}getHashCode(){return void 0===this.$hashCode&&(this.$hashCode=n.nextHashCode++),this.$hashCode}static getHashCodeStatic(t){return t.getHashCode?t.getHashCode():void 0!==t.$hashCode?t.$hashCode:"object"!=typeof t?l.getPrimitiveHashCode(t):(t.$hashCode=n.nextHashCode++,t.$hashCode)}memberwiseClone(){class t{}t.prototype=this.$type.InstanceConstructor.prototype;let e=new t;for(var i in this)this.hasOwnProperty(i)&&(e[i]=this[i]);return e}static referenceEquals(t,e){return t===e||null==t&&null==e}static getArrayOfValues(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e}static getArrayOfProperties(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}}n.nextHashCode=0;class l extends n{constructor(t,e,i=n.prototype.$type,l=null,a=null){super(),this.specializationCache=null,this._staticInitializer=null,this.name=null,this.typeArguments=null,this.baseType=null,this.interfaces=null,this.isEnumType=!1,this._isGenericType=void 0,this._staticFields=null,this.isNullable=!1,this._$nullNullable=null,this.enumInfo=null,this.specializationCache={},this._staticInitializer=a,this._fullName=e,this.name=e,this.InstanceConstructor=t;var u=this.name.lastIndexOf(".");u>=0&&(this.name=this.name.substr(u+1)),this.typeArguments=null,this.baseType=null,this.interfaces=null,i&&(this.baseType=i),l&&(this.interfaces=l),s[e]?this.identifier=s[e]:(this.identifier=r++,s[e]=this.identifier)}get typeName(){return this.name}get fullName(){return this._fullName}getSpecId(t){if(1===t.length)return t[0]?-1===t[0]?void 0:t[0].typeName?t[0].stringId?t[0].stringId:t[0].identifier.toString():t[0].toString():"undef";for(var e="",i=0;i<t.length;i++){var s=t[i];if(s){if(-1==s)return;s.typeName?s.stringId?e+=s.stringId:e+=s.identifier.toString():e+=s.toString()}else e+="undef"}return e}get isGenericType(){return void 0===this._isGenericType&&(this._isGenericType=this.name.indexOf("$")>=0),this._isGenericType}get isGenericTypeDefinition(){return null===this.typeArguments&&this.isGenericType}get genericTypeArguments(){return this.typeArguments}getStaticFields(t){void 0===t&&(t=this);for(var e=this;null!=e;){if(e===t||e._fullName==t._fullName)return null==e._staticFields&&e._staticInitializer&&(e._staticFields={},e._staticInitializer.apply(e._staticFields,e.typeArguments)),e._staticFields;e=e.baseType}return null}initSelfReferences(t){var e,i;if(t){if(this.typeArguments){var s=!1;for(i=0;i<this.typeArguments.length;i++){var r=this.typeArguments[i];-1==r?(s=!0,this.typeArguments[i]=t):r&&r instanceof l&&r.initSelfReferences&&r.initSelfReferences(t)}if(s){var n=this.getSpecId(this.typeArguments);this.specializationCache[n]||(this.specializationCache[n]=this)}}}else if(this.baseType&&this.baseType.initSelfReferences(this),this.interfaces)for(e=0;e<this.interfaces.length;e++)this.interfaces[e].initSelfReferences(this);return this}specialize(...t){var e;if(!this.isGenericType)return this;var i=this.getSpecId(Array.from(arguments)),s=this.specializationCache[i];if(s)return s;(s=new l(this.InstanceConstructor,this._fullName,this.baseType,this.interfaces,this._staticInitializer)).specializationCache=this.specializationCache;var r=this.typeArguments,n=!1;if(r&&r.length&&(n=!0),s.typeArguments=[],n)for(e=0;e<r.length;e++)"number"==typeof r[e]&&isFinite(r[e])&&!isFinite(arguments[r[e]])?s.typeArguments[e]=arguments[r[e]]:s.typeArguments[e]=r[e];else for(e=0;e<arguments.length;e++)s.typeArguments[e]=arguments[e];if(this.baseType&&this.baseType.typeArguments&&(s.baseType=this.specialize.apply(this.baseType,s.typeArguments)),this.interfaces)for(s.interfaces=[],e=0;e<this.interfaces.length;e++)s.interfaces[e]=this.specialize.apply(this.interfaces[e],s.typeArguments);if("Nullable$1"==this._fullName&&1==s.typeArguments.length&&(s.isNullable=!0),i&&(this.specializationCache[i]=s,s.stringId=s.generateString()),null!=this.InstanceConstructor){var a=this;s.InstanceConstructor=function(){return a.InstanceConstructor.apply(this,s.typeArguments.concat(Array.prototype.slice.call(arguments,0))),this},s.InstanceConstructor.prototype=this.InstanceConstructor.prototype}return s}equals(t){if(!(t instanceof l))return!1;if(this.identifier!==t.identifier)return!1;if(null===this.typeArguments&&null===t.typeArguments)return!0;if(null===this.typeArguments&&null!==t.typeArguments)return!1;if(null!==this.typeArguments&&null===t.typeArguments)return!1;if(this.typeArguments.length!==t.typeArguments.length)return!1;for(var e=0;e<this.typeArguments.length;e++)if(!l.checkEquals(this.typeArguments[e],t.typeArguments[e]))return!1;return!0}static checkEquals(t,e){return t instanceof l?t.equals(e):e instanceof l?e.equals(t):t===e}static op_Equality(t,e){return t.equals(e)}static op_Inequality(t,e){return!t.equals(e)}generateString(){if(this.typeArguments&&this.typeArguments.length){for(var t=this.identifier.toString()+"[",e=!0,i=0;i<this.typeArguments.length;i++)null!=this.typeArguments[i]&&(e?e=!1:t+=",",this.typeArguments[i].toString?t+=this.typeArguments[i].toString():t+=this.typeArguments[i].identifier.toString());return t+="]"}return this.identifier.toString()}get isValueType(){return this.baseType===y.prototype.$type}isAssignableFrom(t){if(this===t)return!0;if(t.baseType&&this.isAssignableFrom(t.baseType))return!0;if(t.interfaces)for(var e=0;e<t.interfaces.length;e++)if(this.isAssignableFrom(t.interfaces[e]))return!0;return!1}isInstanceOfType(t){return null!==u(this,t)}get isPrimitive(){return this===k||this===z}static canAssign(t,e){return"Nullable$1"===t.name&&"Nullable$1"!==e.name&&(t=b.getUnderlyingType(t)),l.canAssignSimple(t,e)}static canAssignSimple(t,e){if(t===e||l.checkEquals(t,e))return!0;if(e.interfaces)for(var i=0;i<e.interfaces.length;i++)if(l.canAssignSimple(t,e.interfaces[i]))return!0;return!!e.baseType&&l.canAssignSimple(t,e.baseType)}static createInstance(t){if(t===Number||t==k||t.isEnumType)return 0;if(t==Boolean||t==z)return!1;if(t.InstanceConstructor){return new(0,t.InstanceConstructor)(...Array.prototype.slice.call(arguments,1))}throw new Error("Cannot find instance constructor for the type parameter")}static getDefaultValue(t){return t===k||t.isEnumType?0:t!=z&&(t.baseType===y.$type?l.createInstance(t):null)}static getPrimitiveHashCode(t){var e=typeof t;if("string"===e||t instanceof String){var i,s,r=0;if(0===t.length)return r;for(i=0,s=this.length;i<s;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return r}return"boolean"===e||t instanceof Boolean?+t:t}static decodePropType(t){return 0===t?z:1===t?k:2===t?O:3===t?R:t}static dep(t,e,i,s,r){let n=[],u="",h=[],o=!1,m=null,g=null,c=null,p=null,d=null,f=null,_=null;for(var y=0;y<r.length;y++)if(y%2==0){if((u=r[y]).indexOf(":")>=0){let t=u.split(":");2==t.length?(u=t[0],f=t[1],_=u.substring(0,1).toLowerCase()+u.substring(1)+"Property"):(u=t[0],0==(f=t[1]).length&&(f=u.substring(0,1).toLowerCase()+u.substring(1)),_=t[2])}else _=(f=u.substring(0,1).toLowerCase()+u.substring(1))+"Property";n.push(u)}else{2==(h=r[y]).length?(o=!0,m=h[1],g=l.decodePropType(h[0])):(o=!1,g=l.decodePropType(h[0]));let n=u;c=(t,e)=>{t[s].call(t,n,e.oldValue,e.newValue)};let b=null;b=o?e.createWithDefaultAndCallback(m,c):e.createWithCallback(c);let x=t.registerAlt(u,g,i.$type,b);p=function(t){this.setValueAlt(x,t)},d=g.isEnumType?function(){return a(this.getValueAlt(x))}:function(){return this.getValueAlt(x)},Object.defineProperty(i.prototype,f,{set:p,get:d,configurable:!0}),i[_]=x}i.$$p=n}}function a(t){return null!==t&&t.$type&&t.$type.isEnumType?t.value:t}function u(t,e){if(null==e)return null;if(t===Array)return e instanceof Array?e:null;t===String&&(t=O),t===Number&&(t=k),t===Boolean&&(t=z),t===Date&&(t=R);var i=e;return e.$type?i=e.$type:"number"==typeof e?i=t===Number?Number:k:"string"==typeof e?i=O:"boolean"==typeof e?i=z:e instanceof Date?i=R:e instanceof Array&&(i=X),l.canAssignSimple(t,i)?e:"Nullable$1"===t.name&&"Nullable$1"!==i.name?(t=b.getUnderlyingType(t),l.canAssignSimple(t,i)?w(t,e):w(t,null)):null}function h(t,e){var i=!1;return t.isNullable&&(t=t.typeArguments[0],i=!0),null!==e&&t.isEnumType&&(e=e.value),i?w(t,e):e}m(l,"Type"),m(n,"Base",null);let o=new Array;function m(t,e,i=n.prototype.$type,s=null,r=null){return t.prototype.$type=new l(t,e,i,s,r),"function"==typeof t.staticInit&&o.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}let g=new l(null,"IConvertible");class c extends n{}c.$t=m(c,"Enum");class p extends c{constructor(t,e){super(),this.value=t,this.$type=e}getHashCode(){return this.value}toDouble(t){return this.value}toString(){return _.getName(this.$type,this.value)}}function d(t,e){return null!==e&&t&&(t.isNullable&&(t=t.typeArguments[0]),t.isEnumType)?f(t,e):e}function f(t,e){return t._boxes||(t._boxes={}),t._boxes[e]||(t._boxes[e]=new p(e,t)),t._boxes[e]}class _{static getValueFromName(t,e,i,s){if(t.hasOwnProperty(i))return f(e,t[i]);if(s){var r=i.toUpperCase();for(var n in t)if(n.toUpperCase()===r)return f(e,t[n])}else{var l=i.charAt(0);if(i="_"!=l?l.toLowerCase()+i.substr(1):"_"+i.charAt(1).toLowerCase()+i.substr(2),t.hasOwnProperty(i))return f(e,t[i])}return null}static parse(t,e,i){{var s=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;let r=_.getValueFromName(s,t,e,i);if(null!==r)return r;if(t.isEnumType){s=t.enumInfo.namesValuesMap;let r=_.getValueFromName(s,t,e,i);if(null!==r)return r}}throw new Error("Invalid "+t.name+" value: "+e)}static enumHasFlag(t,e){return(t&e)===e}static toString(t,e){return _.getName(t,e)}static getName(t,e){if(null==t._nameMap){let e=_.getValues(t),i=t.isEnumType?t.enumInfo.names:_.getNames(t),s={};for(let t=0;t<e.length;t++)s[e[t]]=i[t];t._nameMap=s}return t._nameMap[e]}static getFlaggedName(t,e,i){var s,r,n=[],l=e,a=[];for(var u in this)this.hasOwnProperty(u)&&(r=t[u],"number"==typeof t[u]&&a.push(u));a.sort((t,e)=>this[t]-this[e]);for(var h=a.length-1;h>=0;h--)0===(r=this[a[h]])?s=i(0):(e&r)===r&&(e-=r,n.unshift(i(r)));return 0!==e?l.toString():0!==l?n.join(", "):s||"0"}static getValues(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNamesValuesMap[t.enumInfo.actualNames[i]]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(i[s]);return e}static getNames(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNames[i]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(s);return e}static getEnumValue(t,e){return null!==e?"number"==typeof e?e:e.value:0}static isDefined(t,e){e=a(e);var i=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;for(var s in i)if(i.hasOwnProperty(s)&&i[s]===e)return!0;return!1}static toDouble(t,e,i){return e.value}static toObject(t,e){return e}static tryParse$1(t,e,i,s){try{return{ret:!0,p2:a(_.parse(t,e,i))}}catch(e){return{ret:!1,p2:l.createInstance(t)}}}}class y extends n{}y.$t=m(y,"ValueType");class b extends n{static getUnderlyingType(t){return void 0!==t.isGenericType&&t.isGenericType&&!t.isGenericTypeDefinition&&x.prototype.$type.typeName==t.typeName?t.genericTypeArguments[0]:null}}b.$t=m(b,"Nullable");class x extends n{constructor(t,e){super(),this.$t=null,this._value=null,this.isNullable=!0,this.$t=t,this.$type=this.$type.specialize(this.$t),void 0!==e&&(this._value=e)}static nullableEquals(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;if(i&&s)return!0;if(i!=s)return!1;var r=t,n=e;return t.isNullable&&(r=t.value),e.isNullable&&(n=e.value),r==n}equals(t){return x.nullableEquals(this,t)}getHashCode(){return null===this._value?0:void 0!==this._value.getHashCode?this._value.getHashCode():l.getPrimitiveHashCode(this._value)}get hasValue(){return null!==this._value}toString(){return null===this._value?"":this._value.toString()}get value(){return this._value}set value(t){this._value=t}getValueOrDefault(){return this.hasValue?this._value:this.getDefaultValue()}getDefaultValue(){return l.canAssign(k,this.$t)?0:!l.canAssign(z,this.$t)&&(this.$t.baseType==y.prototype.$type?l.createInstance(this.$t):null)}getValueOrDefault1(t){return this.hasValue?this._value:t}preIncrement(){return this.hasValue?(this._value=this._value+1,this):this}preDecrement(){return this.hasValue?(this._value=this._value-1,this):this}postIncrement(){if(!this.hasValue)return this;var t=this._value;return this._value=this._value+1,new x(this.$t,t)}postDecrement(){if(!this.hasValue)return this;var t=this._value;return this._value=this._value-1,new x(this.$t,t)}}function w(t,e){return null==e?t._$nullNullable||(t._$nullNullable=new x(t,null)):e.isNullable?e:new x(t,e)}x.$t=m(x,"Nullable$1");let V=new l(null,"IComparable"),I=new l(null,"IComparable$1");new l(null,"IEquatable$1"),new l(null,"INotifyPropertyChanged");class C extends n{constructor(t){super(),this._propertyName=null,this._propertyName=t}get propertyName(){return this._propertyName}set propertyName(t){this._propertyName=t}}C.$t=m(C,"PropertyChangedEventArgs");class v{constructor(t,e){this._inner=null,this._getNew=null,this._hasNext=!0,this._current=null,this._inner=t,this._getNew=e}moveNext(){let t=this._inner.next();return this._hasNext=!t.done,this._current=t.value,this._hasNext}get current(){return this._current}get currentObject(){return this._current}dispose(){}reset(){this._inner=this._getNew(),this._current=null,this._hasNext=!0}}class M{constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.current),{done:t,value:e}}}class ${constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.currentObject),{done:t,value:e}}}function*A(t){for(let e of t)yield e}function L(t){if(void 0===t.$type&&(t instanceof Array||Array.isArray(t))){let e=t;return new v(A(e),()=>A(e))}return t.getEnumeratorObject()}function N(t){if(void 0===t.$type&&(t instanceof Array||Array.isArray(t))){let e=t;return new v(A(e),()=>A(e))}return t.getEnumerator()}class S{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new M(N(this._inner))}}class T{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new $(L(this._inner))}}function E(t){return new S(t)}let k=new l(Number,"Number",n.prototype.$type,[V,g]),O=new l(String,"String",n.prototype.$type,[V,g]),R=new l(Date,"Date",n.prototype.$type,[V,g]),z=new l(Boolean,"Boolean",n.prototype.$type,[V,g]);new l(null,"Void",n.prototype.$type),new l(null,"Delegate");let F=new l(null,"IDisposable"),P=new l(null,"IEnumerable"),q=new l(null,"IEnumerator"),B=(new l(null,"IEqualityComparer$1"),new l(null,"IEqualityComparer"),new l(null,"ICollection",null,[P])),D=new l(null,"IList",null,[P,B]),j=new l(null,"IEnumerable$1",null,[P]),G=new l(null,"ICollection$1",null,[j.specialize(0),P]),H=new l(null,"IList$1",null,[G.specialize(0),j.specialize(0),P]);new l(null,"IEnumerator$1",null,[q,F]),new l(null,"IDictionary");class Y extends n{constructor(t=-1,...e){if(super(),this._message=null,this._innerException=null,t>=0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}get_message(){return this._message}get message(){return this.get_message()}get innerException(){return this._innerException}init1(t,e){this._message=e}init2(t,e,i){this._message=e,this._innerException=i}toString(){return this._message}}Y.$t=m(Y,"BaseError");class W extends Y{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}else;}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}W.$t=m(W,"SystemException",Y.prototype.$type);class Z extends W{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}else;}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}Z.$t=m(Z,"NotSupportedException",W.prototype.$type);class U extends W{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}else;}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}U.$t=m(U,"FormatException",W.prototype.$type);new l(null,"Point");var J;!function(t){t[t.Begin=0]="Begin",t[t.Current=1]="Current",t[t.End=2]="End"}(J||(J={}));class K extends n{close(){this.disposeCore(!0)}dispose(){this.close()}disposeCore(t){}readByte(){var t=[0];return 0===this.read(t,0,1)?-1:t[0]}writeByte(t){this.write([t],0,1)}}K.$t=m(K,"Stream");class Q extends n{static get empty(){return Q._empty?Q._empty:(Q._empty=new Q,Q._empty)}}Q.$t=m(Q,"EventArgs");new l(null,"IFormatProvider");let X=new l(Array,"Array",n.prototype.$type,[P,B]);class tt{static create(t,...e){if(tt.isRegistered(t)){let i=tt.get(t);return i.htmlTagName?document.createElement(i.htmlTagName):new i(...e)}return null}static register(t,e){tt._registrar.set(t,e.InstanceConstructor)}static registerCons(t,e){tt._registrar.set(t,e)}static callRegister(t){let e=tt.get(t);null!=e&&void 0!==e.register&&e.register()}static isRegistered(t){return null!==tt.get(t)}static get(t){if(tt._registrar.has(t))return tt._registrar.get(t);if(0==t.indexOf("Igx")){let e=t.replace("Igx","Igc");if(tt._registrar.has(e))return tt._registrar.get(e);let i=t.replace("Igx","Igr");if(i.indexOf("Component")==i.length-9&&(i=i.substring(0,i.length-9)),tt._registrar.has(i))return tt._registrar.get(i)}return null}static createFromInternal(t,e,i){if(!t)return null;if(!t.$type)return null;let s=e+t.$type.name+i;return tt.isRegistered(s)?tt.create(s):null}}tt._registrar=new Map;class et extends Y{constructor(t,...e){switch(t=null==t?0:t){case 0:super(0);break;case 1:super(1,e[0]);break;case 2:{let t=e[0];e[1];super(1,t)}break;case 3:super(2,e[0],e[1])}}}et.$t=m(et,"ArgumentException",Y.$type);function it(t,e){return st(t/e)}function st(t){return t>=0?Math.floor(t):Math.ceil(t)}function rt(t,e){return Math.log(t)/Math.log(e)}function nt(t){return t!=t}const lt={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function at(t,e){return t==e?0:t<e?-1:1}class ut extends y{constructor(){super(),this._a=0,this._r=0,this._g=0,this._b=0,this._colorString=null,this._stringDirty=!1}get a(){return this._a}set a(t){this._a=st(Math.round(t)),this._stringDirty=!0}get r(){return this._r}set r(t){this._r=st(Math.round(t)),this._stringDirty=!0}get g(){return this._g}set g(t){this._g=st(Math.round(t)),this._stringDirty=!0}get b(){return this._b}set b(t){this._b=st(Math.round(t)),this._stringDirty=!0}get colorString(){return(this._stringDirty||null==this._colorString)&&(this._stringDirty=!1,this.updateColorString()),this._colorString}set colorString(t){this._colorString=t,this.updateColors()}static create(t){if(null!==u(ut.$type,t))return t;let e=new ut;if("string"==typeof t)e.colorString=t;else if(null!=t)throw new et(1,"Unknown color type");return e}updateColorString(){this._colorString="rgba("+this._r+","+this._g+","+this._b+","+this._a/255+")"}updateColors(){if(null==this.colorString)return void(this.a=this.r=this.g=this.b=0);let t=(e=this._colorString,s={a:255,r:0,g:0,b:0},"transparent"===(r=e.replace(" ","").toLowerCase())?{a:0,r:0,g:0,b:0}:(void 0!==lt[r]&&(e=lt[r]),0===e.lastIndexOf("rgba",0)?(i=(e=e.replace("rgba","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10),s.a=255*parseFloat(i[3])):0===e.lastIndexOf("rgb",0)?(i=(e=e.replace("rgb","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10)):8===(e=e.replace("#","").replace(" ","")).length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16),s.a=parseInt(e.substr(6,2),16)):6===e.length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16)):3===e.length&&(s.r=parseInt(e.substr(0,1)+e.substr(0,1),16),s.g=parseInt(e.substr(1,1)+e.substr(1,1),16),s.b=parseInt(e.substr(2,1)+e.substr(2,1),16)),s));var e,i,s,r;this._a=void 0!==t.a?Math.round(t.a):0,this._r=void 0!==t.r?Math.round(t.r):0,this._g=void 0!==t.g?Math.round(t.g):0,this._b=void 0!==t.b?Math.round(t.b):0,function(t,e){return 0==t.indexOf(e)}(this._colorString,"#")&&9==this._colorString.length&&this.updateColorString()}static fromArgb(t,e,i,s){let r=new ut;return r._a=0|t,r._r=0|e,r._g=0|i,r._b=0|s,r._stringDirty=!0,r}equals(t){if(null!==u(ut.$type,t)==0)return!1;let e=t;return this._a==e._a&&this._r==e._r&&this._g==e._g&&this._b==e._b}getHashCode(){return this._a<<24|this._r<<16|this._g<<8|this._b}static l_op_Inequality(t,e){return!ut.l_op_Equality(t,e)}static l_op_Inequality_Lifted(t,e){return t.hasValue?!e.hasValue||ut.l_op_Inequality(t.value,e.value):e.hasValue}static l_op_Equality(t,e){return t._a==e._a&&t._r==e._r&&t._g==e._g&&t._b==e._b}static l_op_Equality_Lifted(t,e){return t.hasValue?!!e.hasValue&&ut.l_op_Equality(t.value,e.value):!e.hasValue}}ut.$t=function(t,e,i=y.prototype.$type,s=null,r=null){return t.prototype.$type=new l(t,e,i,s,r),"function"==typeof t.staticInit&&o.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}(ut,"Color");class ht extends n{constructor(){super(...arguments),this._scaler=null,this._blurRadius=0,this._maxBlurRadius=0,this._useBlurRadiusAdjustedForZoom=!1,this._minimumColor=new ut,this._maximumColor=new ut,this._tileViewport=null,this._yValues=null,this._xValues=null,this._values=null,this._isNewData=!1,this._minimumVisibleLatitude=0,this._maximumVisibleLatitude=0,this._minimumVisibleLongitude=0,this._maximumVisibleLongitude=0,this._z=0,this._x=0,this._y=0,this._window=null,this._testRun=!1,this._globalMinimum=0,this._globalMaximum=0,this._useGlobalMinMax=!1,this._minimumValue=0,this._maximumValue=0,this._scaleColors=null,this._scaleColorOffsets=null,this._useLogarithmicScale=!1,this._logarithmBase=0,this._image=null}get scaler(){return this._scaler}set scaler(t){this._scaler=t}get blurRadius(){return this._blurRadius}set blurRadius(t){this._blurRadius=t}get maxBlurRadius(){return this._maxBlurRadius}set maxBlurRadius(t){this._maxBlurRadius=t}get useBlurRadiusAdjustedForZoom(){return this._useBlurRadiusAdjustedForZoom}set useBlurRadiusAdjustedForZoom(t){this._useBlurRadiusAdjustedForZoom=t}get minimumColor(){return this._minimumColor}set minimumColor(t){this._minimumColor=t}get maximumColor(){return this._maximumColor}set maximumColor(t){this._maximumColor=t}get tileViewport(){return this._tileViewport}set tileViewport(t){this._tileViewport=t}get yValues(){return this._yValues}set yValues(t){this._yValues=t}get xValues(){return this._xValues}set xValues(t){this._xValues=t}get values(){return this._values}set values(t){this._values=t}get isNewData(){return this._isNewData}set isNewData(t){this._isNewData=t}get minimumVisibleLatitude(){return this._minimumVisibleLatitude}set minimumVisibleLatitude(t){this._minimumVisibleLatitude=t}get maximumVisibleLatitude(){return this._maximumVisibleLatitude}set maximumVisibleLatitude(t){this._maximumVisibleLatitude=t}get minimumVisibleLongitude(){return this._minimumVisibleLongitude}set minimumVisibleLongitude(t){this._minimumVisibleLongitude=t}get maximumVisibleLongitude(){return this._maximumVisibleLongitude}set maximumVisibleLongitude(t){this._maximumVisibleLongitude=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get window(){return this._window}set window(t){this._window=t}get testRun(){return this._testRun}set testRun(t){this._testRun=t}get globalMinimum(){return this._globalMinimum}set globalMinimum(t){this._globalMinimum=t}get globalMaximum(){return this._globalMaximum}set globalMaximum(t){this._globalMaximum=t}get useGlobalMinMax(){return this._useGlobalMinMax}set useGlobalMinMax(t){this._useGlobalMinMax=t}get minimumValue(){return this._minimumValue}set minimumValue(t){this._minimumValue=t}get maximumValue(){return this._maximumValue}set maximumValue(t){this._maximumValue=t}get scaleColors(){return this._scaleColors}set scaleColors(t){this._scaleColors=t}get scaleColorOffsets(){return this._scaleColorOffsets}set scaleColorOffsets(t){this._scaleColorOffsets=t}get useLogarithmicScale(){return this._useLogarithmicScale}set useLogarithmicScale(t){this._useLogarithmicScale=t}get logarithmBase(){return this._logarithmBase}set logarithmBase(t){this._logarithmBase=t}get image(){return this._image}set image(t){this._image=t}flatten(){let t=this.minimumColor.a,e=this.minimumColor.r,i=this.minimumColor.g,s=this.minimumColor.b,r=this.maximumColor.a,n=this.maximumColor.r,l=this.maximumColor.g,a=this.maximumColor.b,u=null;if(null!=this.scaleColors){u=new Array(this.scaleColors.length);for(let t=0;t<this.scaleColors.length;t++){let e={a:this.scaleColors[t].a,r:this.scaleColors[t].r,g:this.scaleColors[t].g,b:this.scaleColors[t].b};u[t]=e}}return{blurRadius:this.blurRadius,maxBlurRadius:this.maxBlurRadius,useBlurRadiusAdjustedForZoom:this.useBlurRadiusAdjustedForZoom,minimumColor:{a:t,r:e,g:i,b:s},maximumColor:{a:r,r:n,g:l,b:a},tileViewport:{left:this.tileViewport.left,top:this.tileViewport.top,width:this.tileViewport.width,height:this.tileViewport.height},yValues:this.yValues,xValues:this.xValues,values:this.values,isNewData:this.isNewData,minimumVisibleLatitude:this.minimumVisibleLatitude,minimumVisibleLongitude:this.minimumVisibleLongitude,maximumVisibleLatitude:this.maximumVisibleLatitude,maximumVisibleLongitude:this.maximumVisibleLongitude,z:this.z,x:this.x,y:this.y,window:{left:this.window.left,top:this.window.top,width:this.window.width,height:this.window.height},testRun:this.testRun,globalMinimum:this.globalMinimum,globalMaximum:this.globalMaximum,useGlobalMinMax:this.useGlobalMinMax,minimumValue:this.minimumValue,maximumValue:this.maximumValue,scaleColorOffsets:this.scaleColorOffsets,scaleColors:u,useLogarithmicScale:this.useLogarithmicScale,logarithmBase:this.logarithmBase}}}ht.$t=m(ht,"TileWorkSettings");let ot=new l(null,"IArray"),mt=new l(null,"IArrayList");let gt=new l(null,"IComparer"),ct=new l(null,"IComparer$1");class pt{static compareToObject(t,e){return t.compareToObject?t.compareToObject(e):n.compare(t,e)}static compareTo(t,e){return t.compareTo?t.compareTo(e):n.compare(t,e)}}class dt extends n{constructor(t){super(),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}static defaultComparerValue(t){return new ft(t)}static create(t,e){return null}compareObject(t,e){return this.compare(h(this.$t,t),h(this.$t,e))}}dt.$t=m(dt,"Comparer$1",n.$type,[gt,ct.specialize(0)]);class ft extends dt{constructor(t){super(t),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}compare(t,e){let i=u(I.specialize(this.$t),t);if(null!=i)return pt.compareTo(i,e);let s=u(I.specialize(this.$t),e);return null!=s?-pt.compareTo(s,t):n.compare(t,e)}}ft.$t=m(ft,"DefaultComparer$1",dt.$type.specialize(0));class _t extends n{constructor(t,e,...i){switch(super(),this.$t=null,this._inner=null,this._syncRoot={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:break;case 1:{let t=i[0];this._inner=t}}}item(t,e){return 2===arguments.length?(this._inner.item(t,e),e):this._inner.item(t)}indexOf(t){return this._inner.indexOf(t)}insert(t,e){}removeAt(t){}get count(){return this._inner.count}get isReadOnly(){return!0}add(t){}clear(){}contains(t){return this._inner.contains(t)}copyTo(t,e){this._inner.copyTo(t,e)}remove(t){return!1}getEnumerator(){return N(this._inner)}getEnumeratorObject(){return N(this._inner)}get isFixedSize(){return!0}add1(t){return-1}contains1(t){return this._inner.contains(h(this.$t,t))}indexOf1(t){return this._inner.indexOf(h(this.$t,t))}insert1(t,e){}remove1(t){}copyTo1(t,e){this._inner.copyTo(t,e)}get items(){return this._inner}get isSynchronized(){return!0}get syncRoot(){return this._syncRoot}}_t.$t=m(_t,"ReadOnlyCollection$1",n.$type,[H.specialize(0),D]);class yt extends Y{constructor(t,...e){switch(t=null==t?0:t){case 0:super(1,"not implemented");break;case 1:throw super(1,e[0]),new yt(0)}}}yt.$t=m(yt,"NotImplementedException",Y.$type);class bt extends n{constructor(t,e,...i){switch(super(),this.$t=null,this._inner=null,this._useFastCompare=!1,this._capacity=0,this._syncRoot={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:this._inner=[],this._useFastCompare=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===n.prototype.equals;break;case 1:{let t=i[0];if(this._inner=[],this._useFastCompare=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===n.prototype.equals,this.tryArray(0,t,!0))return;for(let e of E(t))this.add(e)}break;case 2:i[0];this._inner=[],this._useFastCompare=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===n.prototype.equals}}setItem(t,e){this._inner[t]=e}insertItem(t,e){this._inner.splice(t,0,e)}addItem(t){this._inner.push(t)}removeItem(t){0!=t?this._inner.splice(t,1):this._inner.shift()}clearItems(){this._inner=[]}item(t,e){return 2===arguments.length?(this.setItem(t,e),e):this._inner[t]}indexOf(t){if(this._useFastCompare)return this._inner.indexOf(t);for(let e=0;e<this._inner.length;e++)if(n.equalsStatic(d(this.$t,t),d(this.$t,this._inner[e])))return e;return-1}indexOf2(t,e){if(this._useFastCompare)return this._inner.indexOf(t,e);for(;e<this._inner.length;e++)if(n.equalsStatic(d(this.$t,t),d(this.$t,this._inner[e])))return e;return-1}lastIndexOf(t){if(this._useFastCompare)return this._inner.lastIndexOf(t);for(let e=this._inner.length-1;e>=0;e--)if(n.equalsStatic(d(this.$t,t),d(this.$t,this._inner[e])))return e;return-1}insert(t,e){this.insertItem(t,e)}removeAt(t){this.removeItem(t)}get count(){return this._inner.length}get isReadOnly(){return!1}add(t){this.addItem(t)}clear(){this.clearItems()}contains(t){return this.indexOf(t)>=0}copyTo(t,e){for(let i=0;i<this._inner.length;i++)t[e+i]=this._inner[i]}remove(t){let e=this.indexOf(t);return!(e<0)&&(this.removeItem(e),!0)}getEnumerator(){return L(this._inner)}getEnumeratorObject(){return L(this._inner)}asArray(){return this._inner}tryArray(t,e,i){let s=u(mt,e);if(null!=s){let e=s.asArrayList();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let r=u(ot,e);if(null!=r){let e=r.asArray();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let n=u(H.specialize(this.$t),e);if(null!=n){for(let e=0;e<n.count;e++){let i=n.item(e);this._inner.splice(t+e,0,i)}return!0}let l=Array.isArray(e)?e:null;if(null!=l){let e=this._inner;if(0==this._inner.length)if(i){let i=l,s=l.length;for(let r=0;r<s;r++)e[t++]=i[r]}else{let i=l.length;for(let s=0;s<i;s++)e[t++]=h(this.$t,l[s])}else for(let i=0;i<l.length;i++)e.splice(t++,0,l[i]);return!0}return!1}insertRange1(t,e){if(this.tryArray(t,e,!1))return;let i=t;for(let t of new T(e))this._inner.splice(i,0,t),i++}insertRange(t,e){if(this.tryArray(t,e,!0))return;let i=t;for(let t of E(e))this._inner.splice(i,0,t),i++}removeRange(t,e){0!=t||1!=e?this._inner.splice(t,e):this._inner.shift()}copyTo1(t,e){!function(t,e,i){for(var s=0;s<t.length;s++)e[i++]=t[s]}(this._inner,t,e)}get isFixedSize(){return!1}add1(t){return this.addItem(h(this.$t,t)),this._inner.length-1}contains1(t){return this.indexOf1(t)>=0}indexOf1(t){return this.indexOf(h(this.$t,t))}insert1(t,e){this.insertItem(t,h(this.$t,e))}remove1(t){let e=this.indexOf1(t);e<0||this.removeItem(e)}sort(){let t=null;t=this.$t==k?(t,e)=>{return t<e?-1:t==e?0:1}:this.$t==k?(t,e)=>{return t<e?-1:t==e?0:1}:this.$t==k?(t,e)=>{let i=a(t),s=a(e);return i<s?-1:i==s?0:1}:this.$t==R?(t,e)=>{let i=t,s=e;return i.getTime()<s.getTime()?-1:i.getTime()==s.getTime()?0:1}:(t,e)=>at(t,e),this.sortHelper(t)}sortHelper(t){this._inner.sort(t)}sort2(t){this._inner.sort(t)}get capacity(){return this._capacity}set capacity(t){this._capacity=t}addRange(t){for(let e of E(t))this._inner.push(e)}toArray(){return this._inner}forEach(t){for(let e=0;e<this._inner.length;e++)t(this._inner[e])}get isSynchronized(){return!0}get syncRoot(){return this._syncRoot}binarySearch(t){return this.binarySearch1(t,dt.defaultComparerValue(this.$t))}binarySearch1(t,e){let i=0,s=this.count-1;for(;i<=s;){let r=i+it(s-i,2),n=this._inner[r],l=e.compare(n,t);if(0==l)return r;l<0?i=r+1:s=r-1}return~i}asReadOnly(){return new _t(this.$t,1,this)}reverse(){for(let t=0;t<it(this.count,2);t++){let e=this.count-t-1,i=this._inner[t];this._inner[t]=this._inner[e],this._inner[e]=i}}sort1(t){this.sort2(function(t,e){var i=e,s=function(){return i.apply(t,arguments)};return s.original=i,s.target=t,s}(t,t.compare))}findIndex(t){for(let e=0;e<this._inner.length;e++)if(t(this._inner[e]))return e;return-1}removeAll(t){throw new yt(0)}}bt.$t=m(bt,"List$1",n.$type,[H.specialize(0),ot,D]);class xt extends Q{constructor(){super(...arguments),this._imageData=null,this._image=null,this._z=0,this._x=0,this._y=0,this._url=null}get imageData(){return this._imageData}set imageData(t){this._imageData=t}get image(){return this._image}set image(t){this._image=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get url(){return this._url}set url(t){this._url=t}}xt.$t=m(xt,"TileImageCreatedEventArgs",Q.$type);class wt extends xt{constructor(){super(...arguments),this._globalMinimumValue=0,this._globalMaximumValue=0,this._globalMaximumValueLongitude=0,this._globalMaximumValueLatitude=0,this._globalMinimumValueLongitude=0,this._globalMinimumValueLatitude=0}get globalMinimumValue(){return this._globalMinimumValue}set globalMinimumValue(t){this._globalMinimumValue=t}get globalMaximumValue(){return this._globalMaximumValue}set globalMaximumValue(t){this._globalMaximumValue=t}get globalMaximumValueLongitude(){return this._globalMaximumValueLongitude}set globalMaximumValueLongitude(t){this._globalMaximumValueLongitude=t}get globalMaximumValueLatitude(){return this._globalMaximumValueLatitude}set globalMaximumValueLatitude(t){this._globalMaximumValueLatitude=t}get globalMinimumValueLongitude(){return this._globalMinimumValueLongitude}set globalMinimumValueLongitude(t){this._globalMinimumValueLongitude=t}get globalMinimumValueLatitude(){return this._globalMinimumValueLatitude}set globalMinimumValueLatitude(t){this._globalMinimumValueLatitude=t}}wt.$t=m(wt,"HeatTileImageCreatedEventArgs",xt.$type);class Vt extends n{constructor(t){super(),this._settings=null,this._imageData=null,this._x=0,this._y=0,this._z=0,this._url=null,this._messageId=0,this._transferableSupported=!1,this._id=0,this._maxAccPixelLatitude=0,this._maxAccPixelLongitude=0,this._minAccPixelLatitude=0,this._minAccPixelLongitude=0,this._completedSink=null,this._settings=t,Vt._nextId++,0x8000000000000000==Vt._nextId&&(Vt._nextId=0),this._id=Vt._nextId}get messageId(){return this._messageId}set messageId(t){this._messageId=t}get transferableSupported(){return this._transferableSupported}set transferableSupported(t){this._transferableSupported=t}get id(){return this._id}get settings(){return this._settings}doWork(){let t=this.settings.blurRadius,e=t,i=this.settings.maxBlurRadius,s=this.settings.scaler;if(this._x=this.settings.x,this._y=this.settings.y,this._z=this.settings.z,this.settings.useBlurRadiusAdjustedForZoom&&this._z>0){e=t*(Math.sqrt(2)*Math.pow(2,this._z-1))}nt(i)||e>i&&(e=i);let r,n,l,a,u,h,o,m,g,c=this.settings.xValues,p=this.settings.yValues,d=this.settings.values,f=this.settings.xValues.length,_=(this.settings.yValues.length,this.settings.minimumVisibleLongitude),y=this.settings.maximumVisibleLongitude,b=this.settings.minimumVisibleLatitude,x=this.settings.maximumVisibleLatitude,w=this.getFilterBreadth(this.settings.tileViewport,e),V=this.getFilter(w,e),I=Math.abs(s.unscaleLatitude(0,this.settings.window,this.settings.tileViewport)-s.unscaleLatitude(e,this.settings.window,this.settings.tileViewport)),C=Math.abs(s.unscaleLongitude(0,this.settings.window,this.settings.tileViewport)-s.unscaleLongitude(e,this.settings.window,this.settings.tileViewport)),v=new bt(k,0),M=new bt(k,0),$=new bt(k,0);for(let t=0;t<f;t++)r=c[t],n=p[t],l=d[t],(u=r+C)<_||(o=n+I)<b||(h=n-I)>x||(a=r-C)>y||(v.add(r),M.add(n),$.add(l));let A,L,N,S,T=this.getImageBytes(this.settings.tileViewport),E=this.getAccumulationData(this.settings.tileViewport),O=st(this.settings.tileViewport.width),R=M.count;s.scaleLatitudes(M,this.settings.window,this.settings.tileViewport),s.scaleLongitudes(v,this.settings.window,this.settings.tileViewport);for(let t=0;t<R;t++){m=st(Math.floor(v._inner[t]-e)),g=st(Math.floor(M._inner[t]-e));for(let e=m;e<m+w;e++)for(let i=g;i<g+w;i++)A=e-m,L=i-g,e<0||e>O-1||i<0||i>O-1||(N=V[L*w+A],S=$._inner[t]*N,E[i*O+e]=E[i*O+e]+S)}let z,F=E.length,P=-17976931348623157e292,q=17976931348623157e292;if(nt(this.settings.globalMinimum)||nt(this.settings.globalMaximum)||!this.settings.useGlobalMinMax||this.settings.testRun)if(nt(this.settings.minimumValue)||nt(this.settings.maximumValue)){let t=-1,i=-1;for(let e=0;e<F;e++)(z=E[e])>0&&(z>P&&(P=z,t=e),z<q&&(q=z,i=e));let r=st(Math.floor(t/O)),n=t%O,l=st(Math.floor(i/O)),a=i%O;this.settings.globalMinimum=q,this.settings.globalMaximum=P;let u=0,h=0,o=0,c=0,p=0,d=0;for(let t=0;t<R;t++){m=st(Math.floor(v._inner[t]-e)),g=st(Math.floor(M._inner[t]-e));for(let e=m;e<m+w;e++)for(let i=g;i<g+w;i++)A=e-m,L=i-g,e<0||e>O-1||i<0||i>O-1||(e==n&&i==r&&(u++,o+=s.unscaleLatitude(M._inner[t],this.settings.window,this.settings.tileViewport),c+=s.unscaleLongitude(v._inner[t],this.settings.window,this.settings.tileViewport)),e==a&&i==l&&(h++,p+=s.unscaleLatitude(M._inner[t],this.settings.window,this.settings.tileViewport),d+=s.unscaleLongitude(v._inner[t],this.settings.window,this.settings.tileViewport)))}this._maxAccPixelLatitude=o/u,this._maxAccPixelLongitude=c/u,this._minAccPixelLatitude=p/h,this._minAccPixelLongitude=d/h,nt(this.settings.minimumValue)||(q=this.settings.minimumValue),nt(this.settings.maximumValue)||(P=this.settings.maximumValue)}else q=this.settings.minimumValue,P=this.settings.maximumValue;else q=this.settings.globalMinimum,P=this.settings.globalMaximum,nt(this.settings.minimumValue)||(q=this.settings.minimumValue),nt(this.settings.maximumValue)||(P=this.settings.maximumValue);this.settings.testRun||(this.doRGBInterpolation(T,E,P,q),this._imageData=T),this.finish()}doRGBInterpolation(t,e,i,s){let r,n=e.length;this.settings.useLogarithmicScale&&(s=s<=0?0:rt(s,this.settings.logarithmBase),i=i<=0?0:rt(i,this.settings.logarithmBase));let l,a,u,h,o=0,m=i-s;(nt(m)||m<=0)&&(m=1);let g=this.settings.useLogarithmicScale,c=this.settings.logarithmBase;if(null!=this.settings.scaleColors){let i=new Array(this.settings.scaleColors.length),p=new Array(this.settings.scaleColors.length),d=new Array(this.settings.scaleColors.length),f=new Array(this.settings.scaleColors.length),_=new Array(this.settings.scaleColors.length),y=new Array(this.settings.scaleColors.length),b=new Array(this.settings.scaleColors.length),x=new Array(this.settings.scaleColors.length),w=new Array(this.settings.scaleColors.length),V=new Array(this.settings.scaleColors.length),I=new Array(this.settings.scaleColors.length),C=new Array(this.settings.scaleColors.length),v=this.settings.scaleColorOffsets;if(null==v||v.length!=this.settings.scaleColors.length)if(1==(v=new Array(this.settings.scaleColors.length)).length)v[0]=0;else for(let t=0;t<this.settings.scaleColors.length;t++)v[t]=t/(this.settings.scaleColors.length-1);for(let t=0;t<this.settings.scaleColors.length;t++)i[t]=this.settings.scaleColors[t].a,d[t]=this.settings.scaleColors[t].r,_[t]=this.settings.scaleColors[t].g,b[t]=this.settings.scaleColors[t].b,t<this.settings.scaleColors.length-1?(p[t]=this.settings.scaleColors[t+1].a,f[t]=this.settings.scaleColors[t+1].r,y[t]=this.settings.scaleColors[t+1].g,x[t]=this.settings.scaleColors[t+1].b):(p[t]=this.settings.scaleColors[t].a,f[t]=this.settings.scaleColors[t].r,y[t]=this.settings.scaleColors[t].g,x[t]=this.settings.scaleColors[t].b),w[t]=p[t]-i[t],V[t]=f[t]-d[t],I[t]=y[t]-_[t],C[t]=x[t]-b[t];for(let p=0;p<n;p++){if(0==(r=e[p]))continue;g&&(r=r<=0?0:rt(r,c)),(o=(r-s)/m)<0&&(o=0),o>1&&(o=1);let n=0;for(let t=0;t<v.length;t++)if(v[t]>=o){n=t-1;break}n>v.length-2&&(n=v.length-2),n<0&&(n=0),o=(o-v[n])/(v[n+1]-v[n]),l=st(Math.floor(i[n]+o*w[n])),a=st(Math.floor(d[n]+o*V[n])),u=st(Math.floor(_[n]+o*I[n])),h=st(Math.floor(b[n]+o*C[n])),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h}}else{let i=this.settings.minimumColor.a,p=this.settings.maximumColor.a,d=this.settings.minimumColor.r,f=this.settings.maximumColor.r,_=this.settings.minimumColor.g,y=this.settings.maximumColor.g,b=this.settings.minimumColor.b,x=p-i,w=f-d,V=y-_,I=this.settings.maximumColor.b-b;for(let p=0;p<n;p++)0!=(r=e[p])&&(g&&(r=rt(r,c)),(o=(r-s)/m)<0&&(o=0),o>1&&(o=1),l=st(Math.floor(i+o*x)),a=st(Math.floor(d+o*w)),u=st(Math.floor(_+o*V)),h=st(Math.floor(b+o*I)),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h)}}getAccumulationData(t){let e=new Array(st(t.width)*st(t.height));for(let t=0;t<e.length;t++)e[t]=0;return e}getImageBytes(t){let e=new Array(st(t.width)*st(t.height)*4);for(let t=0;t<e.length;t++)e[t]=0;return e}getFilter(t,e){let i=new Array(t*t);for(let t=0;t<i.length;t++)i[t]=0;let s=t/2,r=t/2;for(let e=0;e<t;e++)for(let n=0;n<t;n++){let l=Math.sqrt(Math.pow(e-r,2)+Math.pow(n-r,2));i[n*t+e]=l>s?0:s-l}let n=0,l=-17976931348623157e292,a=17976931348623157e292;for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];0!=r&&(n+=r,l=r>l?r:l,a=r<a?r:a)}for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];if(0==r)continue;let n=(r-a)/(l-a);i[s*t+e]=.01+.99*n}return i[st(r)*t+st(r)]=1,i}getFilterBreadth(t,e){return st(Math.floor(2*e))}finish(){null!=this.completedSink&&this.completedSink.onCompleted((()=>{let t=new wt;return t.url=this._url,t.x=this._x,t.y=this._y,t.z=this._z,t.globalMinimumValue=this.settings.globalMinimum,t.globalMaximumValue=this.settings.globalMaximum,t.globalMaximumValueLongitude=this._maxAccPixelLongitude,t.globalMaximumValueLatitude=this._maxAccPixelLatitude,t.globalMinimumValueLongitude=this._minAccPixelLongitude,t.globalMinimumValueLatitude=this._minAccPixelLatitude,t.imageData=this._imageData,t.image=this.settings.image,t})())}get completedSink(){return this._completedSink}set completedSink(t){this._completedSink=t}}Vt.$t=m(Vt,"HeatTileGeneratorWorker"),Vt._idLock={},Vt._nextId=0,Vt._curr=0;class It extends n{constructor(t,e,i,s){super(),this._top=0,this._bottom=0,this._right=0,this._left=0,this.left=t,this.top=e,this.right=i,this.bottom=s}get top(){return this._top}set top(t){this._top=t}get bottom(){return this._bottom}set bottom(t){this._bottom=t}get right(){return this._right}set right(t){this._right=t}get left(){return this._left}set left(t){this._left=t}}It.$t=m(It,"ScalerVisibleBounds");class Ct extends n{constructor(t,...e){switch(super(),this._x=0,this._y=0,this._width=0,this._height=0,this._top=0,this._left=0,this._right=0,this._bottom=0,t=null==t?0:t){case 0:{let t=e[0],i=e[1],s=e[2],r=e[3];this.top=i,this.left=t,this.width=s,this.height=r}break;case 1:{let t=e[0],i=e[1],s=e[2];this.top=i,this.left=t,this.width=s.width,this.height=s.height}break;case 2:{let t=e[0],i=e[1];this.top=Math.min(t.y,i.y),this.left=Math.min(t.x,i.x),this.width=Math.max(Math.max(t.x,i.x)-this.left,0),this.height=Math.max(Math.max(t.y,i.y)-this.top,0)}break;case 3:{let t=e[0],i=e[1];this.top=t.y,this.left=t.x,this.width=i.width,this.height=i.height}break;case 4:this.top=0,this.left=0,this.width=0,this.height=0}}get x(){return this._x}set x(t){this._x=t,this._left=this._x,this._right=this._left+this._width}get y(){return this._y}set y(t){this._y=t,this._top=this._y,this._bottom=this._top+this._height}get width(){return this._width}set width(t){this._width=t,this._right=this._left+this._width}get height(){return this._height}set height(t){this._height=t,this._bottom=this._top+this._height}get top(){return this._top}set top(t){this._top=t,this.y=this._top}get left(){return this._left}set left(t){this._left=t,this.x=this._left}get right(){return this._right}set right(t){this._right=t,this._width=this._right-this._left}get bottom(){return this._bottom}set bottom(t){this._bottom=t,this._height=this._bottom-this._top}get isEmpty(){return this._width<0}static get empty(){return new Ct(0,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)}equals1(t){return!Ct.l_op_Equality(t,null)&&(t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height)}containsInternal(t,e){return t>=this._x&&t-this._width<=this._x&&e>=this._y&&e-this._height<=this._y}containsLocation(t,e){return!this.isEmpty&&this.containsInternal(t,e)}containsPoint(t){return this.containsLocation(t.x,t.y)}containsRect(t){return!this.isEmpty&&!t.isEmpty&&this._x<=t._x&&this._y<=t._y&&this._x+this._width>=t._x+t._width&&this._y+this._height>=t._y+t._height}inflate(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,(this._width<0||this._height<0)&&this.makeEmpty()}makeEmpty(){this.top=Number.POSITIVE_INFINITY,this.left=Number.POSITIVE_INFINITY,this.width=Number.NEGATIVE_INFINITY,this.height=Number.NEGATIVE_INFINITY}intersectsWith(t){return!this.isEmpty&&!t.isEmpty&&(t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom)}intersect(t){if(this.intersectsWith(t)){let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width)-e,r=Math.min(this.y+this.height,t.y+t.height)-i;s<0&&(s=0),r<0&&(r=0),this._width=s,this._height=r,this._x=e,this._y=i,this._left=this._x,this._top=this._y,this._right=this._left+this._width,this._bottom=this._top+this._height}else this.makeEmpty()}union(t){if(this.isEmpty)return this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height,this._left=this._x,this._top=this._y,this._right=this._left+this._width,void(this._bottom=this._top+this._height);if(!t.isEmpty){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=this.width,r=this.height;if(t.width==Number.POSITIVE_INFINITY||this.width==Number.POSITIVE_INFINITY)s=Number.POSITIVE_INFINITY;else{s=Math.max(this.right,t.right)-e}if(t.height==Number.POSITIVE_INFINITY||this.height==Number.POSITIVE_INFINITY)r=Number.POSITIVE_INFINITY;else{r=Math.max(this.bottom,t.bottom)-i}this._x=e,this._y=i,this._width=s,this._height=r,this._left=this._x,this._top=this._y,this._right=this._left+this._width,this._bottom=this._top+this._height}}equals(t){if(null==t)return super.equals(t);let e=t;return e.left==this.left&&e.top==this.top&&e.width==this.width&&e.height==this.height}getHashCode(){return this._x^this._y^this._width^this._height}copy(){return new Ct(0,this.x,this.y,this.width,this.height)}static l_op_Equality(t,e){return null==t?null==e:null!=e&&(t._x==e._x&&t._y==e._y&&t._width==e._width&&t._height==e._height)}static l_op_Inequality(t,e){return null==t?null!=e:null==e||(t._x!=e._x||t._y!=e._y||t._width!=e._width||t._height!=e._height)}}Ct.$t=m(Ct,"Rect");class vt extends n{constructor(){super(),this._latitudeSpan=0,this._longitudeSpan=0,this._projectedMaximum=0,this._projectedRange=0,this._latitudeSpan=vt.maximumLatitude-vt.minimumLatitude,this._longitudeSpan=vt.maximumLongitude-vt.minimumLongitude,this._projectedMaximum=this.getProjectedValue(vt.maximumLatitude),this._projectedRange=this.getProjectedValue(vt.maximumLatitude)-this.getProjectedValue(vt.minimumLatitude)}getProjectedValue(t){let e=t*vt.degreeAsRadian,i=Math.sin(e);return.5*Math.log((1+i)/(1-i))}static getVisibleBounds(t,e){let i=new Ct(0,e.left/t.width,e.top/t.height,e.width/t.width,e.height/t.height),s=i.left+i.width*t.left,r=i.left+i.width*t.right,n=i.top+i.height*t.top,l=i.top+i.height*t.bottom;return new It(s,n,r,l)}static getUnprojectedValue(t){return t=Math.exp(2*t),Math.asin((t-1)/(t+1))/vt.degreeAsRadian}unscaleLatitude(t,e,i){let s=(t-i.top)*e.width+e.top*i.height;return s=this.getProjectedValue(vt.maximumLatitude)-s/(i.height/this._projectedRange),vt.getUnprojectedValue(s)}scaleLatitude(t,e,i){return(i.top+this.getScaledValue(t,i.height)-e.top*i.height)/e.width}getScaledValue(t,e){t=t>vt.minimumLatitude?t<vt.maximumLatitude?t:vt.maximumLatitude:vt.minimumLatitude;let i=this.getProjectedValue(t);return(this._projectedMaximum-i)*e/this._projectedRange}unscaleLongitude(t,e,i){let s=e.left+e.width*(t-i.left)/i.width;return vt.minimumLongitude+s*this._longitudeSpan}scaleLongitude(t,e,i){let s=(t-vt.minimumLongitude)/this._longitudeSpan;return i.left+i.width*(s-e.left)/e.width}getMinimumVisibleLatitude(t,e){vt.getVisibleBounds(t,e);return this.unscaleLatitude(e.bottom,t,e)}getMaximumVisibleLatitude(t,e){vt.getVisibleBounds(t,e);return this.unscaleLatitude(e.top,t,e)}getMinimumVisibleLongitude(t,e){vt.getVisibleBounds(t,e);return this.unscaleLongitude(e.left,t,e)}getMaximumVisibleLongitude(t,e){vt.getVisibleBounds(t,e);return this.unscaleLongitude(e.right,t,e)}scaleLatitudes(t,e,i){let s=i.height,r=i.top;for(let i=0;i<t.count;i++){let n=t._inner[i],l=(n=n>vt.minimumLatitude?n<vt.maximumLatitude?n:vt.maximumLatitude:vt.minimumLatitude)*vt.degreeAsRadian,a=Math.sin(l),u=.5*Math.log((1+a)/(1-a)),h=(this._projectedMaximum-u)*s/this._projectedRange;h=r+h,t._inner[i]=(h-e.top*s)/e.width}}scaleLongitudes(t,e,i){i.left,i.width,e.left,e.width;for(let s=0;s<t.count;s++){let r=(t._inner[s]-vt.minimumLongitude)/this._longitudeSpan;t._inner[s]=i.left+i.width*(r-e.left)/e.width}}}vt.$t=m(vt,"HeatTileScaler"),vt.minimumLatitude=-85.05112878,vt.maximumLatitude=85.05112878,vt.minimumLongitude=-180,vt.maximumLongitude=180,vt.degreeAsRadian=Math.PI/180;let Mt=new l(null,"ITileWorkCompletedSink");class $t extends n{static get postmessage(){return $t._postmessage}static set postmessage(t){$t._postmessage=t}static onmessage(t){let e=t.data,i=e.cancelTile,s=e.z,r=e.y,n=e.x;if(i)for(let t=0;t<$t._workers.length;t++){let e=$t._workers[t];if(!e.settings.testRun&&(e.settings.z==s&&e.settings.x==n&&e.settings.y==r)){$t._workers.splice(t,1),t--}}let l=new ht,u=e;if(!u.messageId)return;if(u.isNewData){let t=u.yValues,e=u.xValues,i=u.values;$t._yValues=new Float64Array(t),$t._xValues=new Float64Array(e),$t._values=new Float64Array(i)}let h=u.scaleColors,o=new Array(h.length);for(let t=0;t<h.length;t++)o[t]=ut.fromArgb(a(h[t].a),a(h[t].r),a(h[t].g),a(h[t].b));l.scaler=$t._scaler,l.blurRadius=u.blurRadius,l.maxBlurRadius=u.maxBlurRadius,l.useBlurRadiusAdjustedForZoom=u.useBlurRadiusAdjustedForZoom,l.minimumColor=ut.fromArgb(a(u.minimumColor.a),a(u.minimumColor.r),a(u.minimumColor.g),a(u.minimumColor.b)),l.maximumColor=ut.fromArgb(a(u.maximumColor.a),a(u.maximumColor.r),a(u.maximumColor.g),a(u.maximumColor.b)),l.tileViewport=new Ct(0,u.tileViewport.left,u.tileViewport.top,u.tileViewport.width,u.tileViewport.height),l.yValues=$t._yValues,l.xValues=$t._xValues,l.values=$t._values,l.minimumVisibleLatitude=u.minimumVisibleLatitude,l.minimumVisibleLongitude=u.minimumVisibleLongitude,l.maximumVisibleLatitude=u.maximumVisibleLatitude,l.maximumVisibleLongitude=u.maximumVisibleLongitude,l.z=a(u.z),l.x=a(u.x),l.y=a(u.y),l.window=new Ct(0,u.window.left,u.window.top,u.window.width,u.window.height),l.testRun=u.testRun,l.globalMinimum=u.globalMinimum,l.globalMaximum=u.globalMaximum,l.useGlobalMinMax=u.useGlobalMinMax,l.minimumValue=u.minimumValue,l.maximumValue=u.maximumValue,l.scaleColorOffsets=u.scaleColorOffsets,l.scaleColors=o,l.useLogarithmicScale=u.useLogarithmicScale,l.logarithmBase=u.logarithmBase;let m=new Vt(l);m.messageId=a(u.messageId),m.transferableSupported=!0,m.completedSink=new At(m);let g=m;$t._workers.push(g)}static start(){let t=$t._workers;setInterval((function(){if(t.length>0){var e=t.shift();e.doWork(),e.completedSink=null}}),16)}}$t.$t=m($t,"HeatTileGeneratorWebWorker"),$t._scaler=new vt,$t._workers=[],$t._postmessage=null,$t._yValues=null,$t._xValues=null,$t._values=null;class At extends n{constructor(t){super(),this._worker=null,this._worker=t}onCompleted(t){let e=t,i={},s=e.imageData;i.messageId=this._worker.messageId,i.imageData=null==e.imageData?null:new Uint8ClampedArray(s).buffer,i.z=e.z,i.x=e.x,i.y=e.y,i.url=e.url,i.globalMinimumValue=e.globalMinimumValue,i.globalMaximumValue=e.globalMaximumValue,i.globalMaximumValueLongitude=e.globalMaximumValueLongitude,i.globalMaximumValueLatitude=e.globalMaximumValueLatitude,i.globalMinimumValueLongitude=e.globalMinimumValueLongitude,i.globalMinimumValueLatitude=e.globalMinimumValueLatitude,this._worker.transferableSupported&&null!=i.imageData?$t.postmessage(i,[i.imageData]):$t.postmessage(i)}}At.$t=m(At,"CompletedSinkImpl",n.$type,[Mt]),self.onmessage=$t.onmessage,$t.postmessage=function(){self.postMessage.apply(self,Array.prototype.slice.call(arguments))},$t.start();e.default={}}]);